<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emre Bebe Müşteri Poşet Takibi</title>
    <meta name="description" content="Kullanıcı bazlı Müşteri Poşet Takip Uygulaması">

    <meta name="theme-color" content="#1e293b"/>
    <link rel="apple-touch-icon" href="https://placehold.co/180x180/1e293b/ffffff?text=EB">
    <link rel="manifest" href="manifest.json">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js"></script>
    <!-- Grafik Kütüphanesi Eklendi -->
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="assets/css/styles.css" rel="stylesheet">
</head>
<body class="bg-secondary text-primary">

    <div id="loading-overlay">
        <div id="loading-spinner">
            <svg class="animate-spin h-8 w-8 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
        </div>
        <p id="loading-text">Uygulama yükleniyor...</p>
    </div>

    <div id="auth-container" class="hidden min-h-screen flex items-center justify-center p-4">
        <div class="max-w-md w-full bg-primary p-8 rounded-2xl shadow-lg border border-dynamic">
            <form id="login-form">
                <h2 class="text-3xl font-bold text-center text-primary mb-2">Giriş Yap</h2>
                <p class="text-center text-secondary mb-6">Listenize erişmek için giriş yapın.</p>
                <div id="login-error" class="hidden text-center p-2 mb-4 bg-red-500/20 text-red-300 rounded-md text-sm"></div>
                <div class="space-y-4">
                    <input type="email" id="login-email" placeholder="E-posta Adresi" class="w-full p-3 bg-tertiary border border-dynamic text-primary rounded-lg focus:ring-2 ring-accent transition" required>
                    <input type="password" id="login-password" placeholder="Şifre" class="w-full p-3 bg-tertiary border border-dynamic text-primary rounded-lg focus:ring-2 ring-accent transition" required>
                </div>
                <div class="text-right mt-2">
                    <a href="#" id="forgot-password-link" class="text-xs font-medium text-secondary hover:accent-text transition-colors">Şifremi unuttum</a>
                </div>
                <button type="submit" class="w-full mt-4 accent-bg text-white font-semibold p-3 rounded-lg accent-bg-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-secondary ring-accent transition-all">Giriş Yap</button>
                <p class="text-center text-sm text-secondary mt-6">Hesabınız yok mu? <a href="#" id="show-register" class="font-medium accent-text hover:underline">Kayıt Olun</a></p>
            </form>

            <form id="register-form" class="hidden">
                <h2 class="text-3xl font-bold text-center text-primary mb-2">Hesap Oluştur</h2>
                <p class="text-center text-secondary mb-6">Başlamak için yeni bir hesap oluşturun.</p>
                <div id="register-error" class="hidden text-center p-2 mb-4 bg-red-500/20 text-red-300 rounded-md text-sm"></div>
                <div class="space-y-4">
                    <input type="email" id="register-email" placeholder="E-posta Adresi" class="w-full p-3 bg-tertiary border border-dynamic text-primary rounded-lg focus:ring-2 ring-accent transition" required>
                    <input type="password" id="register-password" placeholder="Şifre (en az 6 karakter)" class="w-full p-3 bg-tertiary border border-dynamic text-primary rounded-lg focus:ring-2 ring-accent transition" required>
                </div>
                <button type="submit" class="w-full mt-6 accent-bg text-white font-semibold p-3 rounded-lg accent-bg-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-secondary ring-accent transition-all">Kayıt Ol</button>
                <p class="text-center text-sm text-secondary mt-6">Zaten hesabınız var mı? <a href="#" id="show-login" class="font-medium accent-text hover:underline">Giriş Yapın</a></p>
            </form>

            <form id="forgot-password-form" class="hidden">
                <h2 class="text-3xl font-bold text-center text-primary mb-2">Şifre Sıfırlama</h2>
                <p class="text-center text-secondary mb-6">Hesabınıza ait e-posta adresini girerek sıfırlama bağlantısı alın.</p>
                <div id="forgot-success" class="hidden text-center p-2 mb-4 bg-green-500/20 text-green-300 rounded-md text-sm"></div>
                <div id="forgot-error" class="hidden text-center p-2 mb-4 bg-red-500/20 text-red-300 rounded-md text-sm"></div>
                <div class="space-y-4">
                    <input type="email" id="forgot-email" placeholder="E-posta Adresi" class="w-full p-3 bg-tertiary border border-dynamic text-primary rounded-lg focus:ring-2 ring-accent transition" required>
                </div>
                <button type="submit" class="w-full mt-6 accent-bg text-white font-semibold p-3 rounded-lg accent-bg-hover">Sıfırlama E-postası Gönder</button>
                <p class="text-center text-sm text-secondary mt-6"><a href="#" id="back-to-login" class="font-medium accent-text hover:underline">Giriş ekranına dön</a></p>
            </form>
        </div>
    </div>


    <div id="app-container" class="hidden container mx-auto max-w-5xl p-4 sm:p-6 md:p-8 min-h-screen transition-all duration-300">
        
        <header class="flex items-center justify-between mb-6 gap-2">
            <div class="w-20 flex-shrink-0"></div> <!-- Sol taraf dengeleyici boşluk -->
            <div class="flex-grow text-center">
                <h1 class="text-3xl sm:text-4xl font-bold text-primary">Müşteri Poşet Takibi</h1>
                <p class="mt-2 text-secondary text-sm sm:text-base">Tüm Ayrılan Poşetleri tek yerden yönetin.</p>
            </div>
            <div class="w-20 flex-shrink-0 flex justify-end gap-2">
                <!-- Genişlet/Daralt Butonu -->
                <button id="toggle-width-btn" class="p-2 text-slate-400 hover:text-white transition rounded-full hover:bg-tertiary" title="Ekranı Genişlet/Daralt">
                    <svg id="icon-expand" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707m4.344 0a.5.5 0 0 1 .707 0l4.096 4.096V11.5a.5.5 0 1 1 1 0v3.975a.5.5 0 0 1-.5.5H11.5a.5.5 0 0 1 0-1h2.768l-4.096-4.096a.5.5 0 0 1 0-.707m0-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707m-4.344 0a.5.5 0 0 1-.707 0L1.025 1.732V4.5a.5.5 0 0 1-1 0V.525a.5.5 0 0 1 .5-.5H4.5a.5.5 0 0 1 0 1H1.732l4.096 4.096a.5.5 0 0 1 0 .707"/></svg>
                </button>
                <!-- Bildirim Butonu -->
                <button id="notification-bell" class="relative p-2 text-slate-400 hover:text-white transition rounded-full hover:bg-tertiary">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16"><path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z"/></svg>
                    <span id="notification-badge" class="hidden absolute -top-1 -right-1 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center"></span>
                </button>
            </div>
        </header>

        <div class="mb-6 bg-primary p-1 sm:p-2 rounded-xl border border-dynamic shadow-lg">
            <nav class="flex justify-around items-center" aria-label="Tabs">
                <button id="tab-anasayfa" class="tab-button flex flex-col items-center justify-center flex-1 p-2 rounded-lg text-secondary hover:bg-tertiary">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mb-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                    </svg>
                    <span class="text-xs font-medium">Ana Sayfa</span>
                </button>
                <button id="tab-list" class="tab-button flex flex-col items-center justify-center flex-1 p-2 rounded-lg text-secondary hover:bg-tertiary">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mb-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 10h16M4 14h16M4 18h16" />
                    </svg>
                    <span class="text-xs font-medium">Liste</span>
                </button>
                <button id="tab-archive" class="tab-button flex flex-col items-center justify-center flex-1 p-2 rounded-lg text-secondary hover:bg-tertiary">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mb-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4" />
                    </svg>
                    <span class="text-xs font-medium">Teslim Edilenler</span>
                </button>
                <button id="tab-reports" class="tab-button flex flex-col items-center justify-center flex-1 p-2 rounded-lg text-secondary hover:bg-tertiary">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mb-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                    </svg>
                    <span class="text-xs font-medium">Raporlar</span>
                </button>
                <button id="tab-notes" class="tab-button flex flex-col items-center justify-center flex-1 p-2 rounded-lg text-secondary hover:bg-tertiary">
                   <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mb-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                    </svg>
                    <span class="text-xs font-medium">Notlarım</span>
                </button>
                <button id="tab-settings" class="tab-button flex flex-col items-center justify-center flex-1 p-2 rounded-lg text-secondary hover:bg-tertiary">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mb-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                    </svg>
                    <span class="text-xs font-medium">Ayarlar</span>
                </button>
            </nav>
        </div>


        <main id="main-content" class="relative">
            <div id="panel-anasayfa" class="panel hidden">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="bg-primary p-5 rounded-xl shadow-lg border border-dynamic flex items-center gap-4">
                        <div class="bg-blue-500/20 text-blue-300 p-3 rounded-lg"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a3.001 3.001 0 015.688 0M12 12a3 3 0 100-6 3 3 0 000 6z" /></svg></div>
                        <div>
                            <p class="text-secondary text-sm">Bekleyen Müşteri</p>
                            <p id="dashboard-waiting-customers" class="text-2xl font-bold text-primary">0</p>
                        </div>
                    </div>
                     <div class="bg-primary p-5 rounded-xl shadow-lg border border-dynamic flex items-center gap-4">
                        <div class="bg-purple-500/20 text-purple-300 p-3 rounded-lg"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" /></svg></div>
                        <div>
                            <p class="text-secondary text-sm">Bekleyen Poşet</p>
                            <p id="dashboard-waiting-bags" class="text-2xl font-bold text-primary">0</p>
                        </div>
                    </div>
                     <div class="bg-primary p-5 rounded-xl shadow-lg border border-dynamic flex items-center gap-4">
                        <div class="bg-green-500/20 text-green-300 p-3 rounded-lg"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg></div>
                        <div>
                            <p class="text-secondary text-sm">Son 7 Gün Teslimat</p>
                            <p id="dashboard-delivered-last-week" class="text-2xl font-bold text-primary">0</p>
                        </div>
                    </div>

                    <div class="bg-primary p-5 rounded-xl shadow-lg border border-dynamic md:col-span-1 lg:col-span-1">
                        <h3 class="font-semibold text-primary mb-3">En Eski 3 Bekleyen Müşteri</h3>
                        <div id="dashboard-oldest-customers" class="space-y-3">
                            <p class="text-secondary text-center py-4">Veri bulunamadı.</p>
                        </div>
                    </div>
                    
                    <div class="bg-primary p-5 rounded-xl shadow-lg border border-dynamic md:col-span-2 lg:col-span-2">
                        <h3 class="font-semibold text-primary mb-3">Günün Hatırlatmaları (Notlar)</h3>
                        <div id="dashboard-reminders" class="space-y-3 max-h-48 overflow-y-auto">
                            <p class="text-secondary text-center py-4">Bugün için hatırlatma yok.</p>
                        </div>
                    </div>

                    <div class="bg-primary p-5 rounded-xl shadow-lg border border-dynamic flex flex-col justify-center items-center text-center md:col-span-2 lg:col-span-3">
                        <h3 id="dashboard-custom-text-title" class="font-semibold text-primary mb-3">...</h3>
                        <div id="dashboard-custom-text-content" class="text-secondary italic">
                            <p>Yükleniyor...</p>
                        </div>
                    </div>

                </div>
            </div>

            <div id="panel-list" class="panel hidden space-y-8">
                 <div class="bg-primary p-6 rounded-xl shadow-lg border border-dynamic">
                    <h2 class="text-2xl font-semibold mb-4 text-primary">Yeni Poşet Ekle / Listede Ara</h2>
                    <form id="add-item-form" class="grid grid-cols-1 sm:grid-cols-5 gap-4">
                        <div class="relative sm:col-span-3">
                            <input type="text" id="customer-name" placeholder="Müşteri Adı / Listede Ara..." class="w-full p-3 bg-tertiary border border-dynamic text-primary rounded-lg focus:ring-2 ring-accent transition" required autocomplete="off">
                            <button type="button" id="clear-customer-name" class="hidden absolute inset-y-0 right-0 pr-3 flex items-center text-secondary hover:text-primary">
                                <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
                            </button>
                            <div id="suggestions-box" class="hidden absolute top-full left-0 right-0 z-20 bg-tertiary border border-t-0 border-dynamic rounded-b-lg shadow-lg max-h-60 overflow-y-auto"></div>
                        </div>
                        <input type="number" id="bag-count" placeholder="Poşet Sayısı" value="1" min="1" class="sm:col-span-1 w-full p-3 bg-tertiary border border-dynamic text-primary rounded-lg focus:ring-2 ring-accent transition" required>
                        <button type="submit" class="sm:col-span-1 w-full accent-bg text-white font-semibold p-3 rounded-lg accent-bg-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-secondary ring-accent transition-all">Ekle</button>
                    </form>
                </div>
                <div>
                    <div class="flex flex-col sm:flex-row justify-between items-center mb-4 gap-4">
                        <div class="flex items-center gap-3">
                            <h2 class="text-2xl font-semibold text-primary">Bekleyen Poşetler</h2>
                            <span id="total-customers-counter" class="text-base font-medium bg-sky-500/20 text-sky-300 py-1 px-3 rounded-full" title="Bekleyen Müşteri Sayısı"></span>
                            <span id="total-bags-counter" class="text-base font-medium bg-purple-500/20 text-purple-300 py-1 px-3 rounded-full" title="Toplam Poşet Sayısı"></span>
                        </div>
                        <div class="flex items-center gap-2">
                             <div id="view-toggle-buttons" class="flex border border-dynamic rounded-lg mr-2">
                                <button id="view-list-btn" class="p-2 text-secondary hover:bg-tertiary rounded-l-md" title="Liste Görünümü">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/></svg>
                                </button>
                                <button id="view-grid-btn" class="p-2 text-secondary hover:bg-tertiary border-l border-dynamic rounded-r-md" title="Izgara Görünümü">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zm8 0A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm-8 8A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm8 0A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3z"/></svg>
                                </button>
                             </div>
                             <div class="flex border border-dynamic rounded-lg">
                                <button id="sort-alpha" class="p-2 text-secondary hover:bg-tertiary rounded-l-md" title="Alfabetik Sırala"></button>
                                <button id="sort-bags" class="p-2 text-secondary hover:bg-tertiary border-l border-dynamic" title="Poşet Sayısına Göre Sırala"></button>
                                <button id="sort-date" class="p-2 text-secondary hover:bg-tertiary border-l border-dynamic rounded-r-md" title="Tarihe Göre Sırala"></button>
                            </div>
                        </div>
                    </div>
                    <div id="item-list" class="space-y-2"></div>
                    <div id="item-grid" class="hidden"></div>
                    <p id="empty-item-list-message" class="hidden text-center text-secondary bg-primary border border-dynamic p-6 rounded-xl shadow-lg">Henüz bekleyen poşet bulunmuyor.</p>
                </div>
            </div>

            <div id="panel-archive" class="panel hidden space-y-4">
                 <div class="flex flex-col sm:flex-row justify-between items-center mb-4 gap-4">
                    <h2 class="text-2xl font-semibold text-primary">Teslim Edilenler Arşivi</h2>
                     <div class="flex items-center gap-2">
                        <input type="search" id="search-archive-input" placeholder="Arşivde ara..." class="p-2 bg-tertiary border border-dynamic rounded-lg focus:ring-2 ring-accent transition w-full sm:w-auto">
                        <button id="export-archive-pdf-btn" class="p-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 transition" title="Arşivi PDF Olarak Aktar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/><path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/></svg>
                        </button>
                    </div>
                </div>
                <div id="archive-list" class="space-y-2"></div>
                <div id="archive-pagination" class="flex justify-center items-center mt-4 space-x-2"></div>
                <p id="empty-archive-list-message" class="hidden text-center text-secondary bg-primary border border-dynamic p-6 rounded-xl shadow-lg">Arşivde hiç kayıt bulunmuyor.</p>
            </div>
            
            <div id="panel-reports" class="panel hidden space-y-8">
                 <div class="bg-primary p-6 rounded-xl shadow-lg border border-dynamic">
                    <h2 class="text-2xl font-semibold mb-4 text-primary">Dönem Seçimi</h2>
                    <div class="grid grid-cols-4 gap-2 mb-6">
                        <button data-range="7" class="report-range-btn bg-tertiary p-3 rounded-xl hover:bg-purple-500/30 transition flex flex-col items-center justify-center h-20 text-center border border-dynamic">
                            <span class="text-sm font-semibold">Son 7</span>
                            <span class="text-xs">Gün</span>
                        </button>
                        <button data-range="30" class="report-range-btn bg-tertiary p-3 rounded-xl hover:bg-purple-500/30 transition flex flex-col items-center justify-center h-20 text-center border border-dynamic">
                            <span class="text-sm font-semibold">Son 30</span>
                            <span class="text-xs">Gün</span>
                        </button>
                        <button data-range="90" class="report-range-btn bg-tertiary p-3 rounded-xl hover:bg-purple-500/30 transition flex flex-col items-center justify-center h-20 text-center border border-dynamic">
                            <span class="text-sm font-semibold">Son 90</span>
                            <span class="text-xs">Gün</span>
                        </button>
                        <button data-range="all" class="report-range-btn bg-tertiary p-3 rounded-xl hover:bg-purple-500/30 transition flex flex-col items-center justify-center h-20 text-center border border-dynamic">
                            <span class="text-sm font-semibold">Tüm</span>
                            <span class="text-xs">Zamanlar</span>
                        </button>
                    </div>
                    <div id="periodic-report-content" class="space-y-6">
                        <!-- İçerik ui-renderer.js tarafından doldurulacak -->
                    </div>
                </div>
                 
                 <div class="bg-primary p-6 rounded-xl shadow-lg border border-dynamic">
                    <h2 class="text-2xl font-semibold mb-4 text-primary">Raporları Aktar</h2>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <button id="export-reports-pdf-btn" class="flex-1 bg-rose-600 text-white font-semibold p-3 rounded-lg hover:bg-rose-700 transition">Teslim Edilenler Raporu (PDF)</button>
                    </div>
                    <p class="text-xs text-secondary mt-3">Teslim edilen tüm poşetlerin alınma, teslim edilme ve bekleme sürelerini içeren detaylı bir PDF raporu oluşturur.</p>
                </div>
            </div>

            <div id="panel-notes" class="panel hidden space-y-4">
                <h2 class="text-2xl font-semibold text-primary">Tüm Notlar</h2>
                <div id="notes-list" class="space-y-2"></div>
                <p id="empty-notes-message" class="hidden text-center text-secondary bg-primary border border-dynamic p-6 rounded-xl shadow-lg">Henüz not eklenmiş bir kayıt bulunmuyor.</p>
            </div>

            <div id="panel-settings" class="panel hidden space-y-8">
                 <div class="bg-primary p-6 rounded-xl shadow-lg border border-dynamic space-y-6">
                    <h2 class="text-2xl font-semibold text-primary">Hesap Yönetimi</h2>
                    <div class="space-y-3">
                        <div>
                           <p class="text-sm text-secondary">Giriş Yapılan Hesap:</p>
                           <p id="settings-user-email" class="font-medium text-primary break-all"></p>
                        </div>
                         <button id="change-password-btn" class="w-full bg-tertiary text-primary font-semibold p-3 rounded-lg hover:bg-slate-600 transition-all">Şifre Değiştir</button>
                         <button id="settings-logout-btn" class="w-full bg-red-600/20 text-red-300 font-semibold p-3 rounded-lg hover:bg-red-600/40 transition-all">Çıkış Yap</button>
                    </div>
                </div>
                
                 <div class="bg-primary p-6 rounded-xl shadow-lg border border-dynamic space-y-6">
                    <h2 class="text-2xl font-semibold text-primary">Görünüm Ayarları</h2>
                    <div>
                        <h3 class="text-lg font-medium text-primary mb-2">Tema</h3>
                        <div class="grid grid-cols-2 sm:grid-cols-3 gap-2 text-center">
                            <button data-theme="aurora" class="theme-btn p-2 rounded-lg border-2 border-[#30363d] bg-[#0d1117] text-[#c9d1d9]">Aurora</button>
                            <button data-theme="sunset" class="theme-btn p-2 rounded-lg border-2 border-[#5a3c82] bg-[#2c1b3e] text-[#f3e8ff]">Sunset</button>
                            <button data-theme="graphite" class="theme-btn p-2 rounded-lg border-2 border-[#4b5263] bg-[#282c34] text-[#abb2bf]">Graphite</button>
                            <button data-theme="ocean" class="theme-btn p-2 rounded-lg border-2 border-[#80dfff] bg-[#e6f7ff] text-[#005f80]">Ocean</button>
                            <button data-theme="mint" class="theme-btn p-2 rounded-lg border-2 border-[#86efac] bg-[#f0fdf4] text-[#14532d]">Mint</button>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-lg font-medium text-primary mb-2">Yazı Tipi Boyutu (<span id="font-size-preview">16px</span>)</h3>
                        <input type="range" id="font-size-slider" min="12" max="20" step="1" value="16" class="w-full h-2 bg-tertiary rounded-lg appearance-none cursor-pointer">
                    </div>
                </div>

                <div class="bg-primary p-6 rounded-xl shadow-lg border border-dynamic space-y-6">
                    <h2 class="text-2xl font-semibold text-primary">Bildirim Ayarları (Telegram)</h2>
                    <div class="space-y-3">
                        <div class="bg-blue-500/10 border border-blue-500/30 p-3 rounded-lg text-sm text-blue-300">
                            Telegram üzerinden bildirim almak için bir Bot oluşturup Token ve Chat ID bilgilerini buraya girin.
                        </div>
                        <div>
                            <label for="telegram-bot-token" class="block text-sm font-medium text-secondary mb-1">Bot Token:</label>
                            <input type="password" id="telegram-bot-token" placeholder="123456:ABC-DEF..." class="w-full p-2 bg-secondary border border-dynamic text-primary rounded-lg focus:ring-2 ring-accent transition">
                        </div>
                        <div>
                            <label for="telegram-chat-id" class="block text-sm font-medium text-secondary mb-1">Chat ID (Birden çok ise virgül ile ayırın):</label>
                            <input type="text" id="telegram-chat-id" placeholder="123456, 987654..." class="w-full p-2 bg-secondary border border-dynamic text-primary rounded-lg focus:ring-2 ring-accent transition">
                        </div>
                        <div>
                            <label for="telegram-report-time" class="block text-sm font-medium text-secondary mb-1">Günlük Rapor Saati (Pazar Hariç):</label>
                            <input type="time" id="telegram-report-time" class="w-full p-2 bg-secondary border border-dynamic text-primary rounded-lg focus:ring-2 ring-accent transition">
                            <p class="text-xs text-secondary mt-1">Uygulama bu saatte açık olmalıdır.</p>
                        </div>
                        <button id="save-telegram-settings-btn" class="w-full accent-bg text-white font-semibold p-3 rounded-lg accent-bg-hover">Kaydet</button>
                    </div>
                </div>

                <div class="bg-primary p-6 rounded-xl shadow-lg border border-dynamic space-y-6">
                    <h2 class="text-2xl font-semibold text-primary">Uygulama Yönetimi</h2>
                    <div class="space-y-4">
                        <div>
                            <h3 class="text-lg font-medium text-primary mb-2">Müşteri Listesi</h3>
                            <button id="manage-customers-btn" class="w-full bg-tertiary text-primary font-semibold p-3 rounded-lg hover:bg-slate-600 transition-all">
                                Müşteri Listesini Yönet
                            </button>
                        </div>
                        <div>
                            <h3 class="text-lg font-medium text-primary mb-2">Teslim Eden Kişiler</h3>
                            <button id="manage-delivery-personnel-btn" class="w-full bg-tertiary text-primary font-semibold p-3 rounded-lg hover:bg-slate-600 transition-all">
                                Teslim Eden Kişileri Yönet
                            </button>
                        </div>
                    </div>
                </div>

                <div class="bg-primary p-6 rounded-xl shadow-lg border border-dynamic space-y-6">
                    <h2 class="text-2xl font-semibold text-primary">Paylaşım Şablonu</h2>
                     <div class="space-y-3">
                        <div>
                            <label for="share-template-input" class="block text-sm font-medium text-secondary mb-1">Durum Mesajı Şablonu:</label>
                            <textarea id="share-template-input" class="w-full p-2 bg-secondary border border-dynamic text-primary rounded-lg focus:ring-2 ring-accent transition h-24"></textarea>
                            <p class="text-xs text-secondary mt-2">
                                Kullanılabilir değişkenler: <code class="bg-tertiary p-1 rounded">[Müşteri Adı]</code>, <code class="bg-tertiary p-1 rounded">[Poşet Sayısı]</code>, <code class="bg-tertiary p-1 rounded">[Bekleme Süresi]</code>
                            </p>
                        </div>
                        <button id="save-share-template-btn" class="w-full accent-bg text-white font-semibold p-3 rounded-lg accent-bg-hover">Şablonu Kaydet</button>
                    </div>
                </div>
                
                 <div class="bg-primary p-6 rounded-xl shadow-lg border border-dynamic space-y-6">
                    <h2 class="text-2xl font-semibold text-primary">Ana Sayfa Notu</h2>
                    <div class="space-y-3">
                        <div>
                            <label for="custom-text-title-input" class="block text-sm font-medium text-secondary mb-1">Başlık:</label>
                            <input type="text" id="custom-text-title-input" class="w-full p-2 bg-secondary border border-dynamic text-primary rounded-lg focus:ring-2 ring-accent transition">
                        </div>
                        <div>
                            <label for="custom-text-content-input" class="block text-sm font-medium text-secondary mb-1">İçerik:</label>
                            <textarea id="custom-text-content-input" class="w-full p-2 bg-secondary border border-dynamic text-primary rounded-lg focus:ring-2 ring-accent transition h-20"></textarea>
                        </div>
                        <button id="save-custom-text-btn" class="w-full accent-bg text-white font-semibold p-3 rounded-lg accent-bg-hover">Kaydet</button>
                    </div>
                </div>

                <div class="bg-primary p-6 rounded-xl shadow-lg border border-dynamic space-y-6">
                    <h2 class="text-2xl font-semibold text-primary">Veri Yönetimi</h2>
                     <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <button id="export-json-btn" class="w-full bg-sky-600 text-white font-semibold p-3 rounded-lg hover:bg-sky-700 transition">Yedekle (JSON)</button>
                        <button id="import-json-btn" class="w-full bg-teal-600 text-white font-semibold p-3 rounded-lg hover:bg-teal-700 transition">Geri Yükle (JSON)</button>
                        <button id="export-active-pdf-btn" class="w-full bg-rose-600 text-white font-semibold p-3 rounded-lg hover:bg-rose-700 transition">Bekleyen Listeyi PDF Aktar</button>
                        <button id="export-csv-btn" class="w-full bg-emerald-600 text-white font-semibold p-3 rounded-lg hover:bg-emerald-700 transition">Listeyi CSV Aktar</button>
                         <input type="file" id="import-file-input" class="hidden" accept=".json">
                    </div>
                    <div>
                         <h3 class="text-lg font-medium text-red-400 mb-2">Tehlikeli Alan</h3>
                         <div class="p-4 border border-red-500/30 bg-red-500/10 rounded-lg space-y-3">
                            <p class="text-sm text-red-300">Bu işlemler geri alınamaz. Lütfen dikkatli olun.</p>
                             <button id="reset-items-btn" class="w-full bg-red-700 text-white font-semibold p-2 rounded-lg hover:bg-red-800 transition">Sadece Poşet Listesini Sıfırla</button>
                            <button id="reset-all-btn" class="w-full bg-red-600 text-white font-bold p-3 rounded-lg hover:bg-red-700 transition">TÜM VERİLERİ SIFIRLA</button>
                         </div>
                    </div>
                </div>
                 <div class="text-center mt-4 mb-4">
                    <p class="text-xs text-secondary">Program yapımcısı Muhammed Ali KOÇ</p>
                </div>
            </div>
        </main>
    </div>

    <div id="modal-container" class="hidden fixed inset-0 bg-black bg-opacity-80 z-50 flex items-center justify-center p-4 transition-opacity duration-300">
        <div id="modal-content-wrapper" class="bg-primary border border-dynamic rounded-lg shadow-xl p-6 w-full max-w-2xl transform transition-all duration-300 scale-95 opacity-0">
             <div id="modal-content"></div>
        </div>
    </div>
    
    <button id="scroll-to-top-btn" class="accent-bg text-white w-12 h-12 rounded-full flex items-center justify-center shadow-lg accent-bg-hover transition-all">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7" />
        </svg>
    </button>

    <script type="module" src="assets/js/app.js"></script>
    
    <script>
        // Service Worker kaydını yapıyoruz. Bu, uygulamanın çevrimdışı çalışmasını sağlar.
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js').then(registration => {
                    console.log('ServiceWorker kaydı başarılı, scope: ', registration.scope);
                }, err => {
                    console.log('ServiceWorker kaydı başarısız: ', err);
                });
            });
        }
    </script>
</body>
</html>
